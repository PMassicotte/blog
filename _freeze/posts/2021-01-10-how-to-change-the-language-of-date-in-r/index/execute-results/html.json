{
  "hash": "7f23fce9e939285a270af068e75c0f80",
  "result": {
    "markdown": "---\ntitle: \"How to change the language of dates in R\"\nauthor: \"Philippe Massicotte\"\ndate: \"2021-01-10\"\ncategories: [R, R tips] \n---\n\n\n\n\nRecently, I had to make a `ggplot2` graphic with data that contained dates. Let's create some sample data with dates.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn <- 10\n\ndf <- tibble(\n  x = seq(as.Date(\"2020-01-01\"), as.Date(\"2020-10-10\"), length.out = n),\n  y = rnorm(n)\n)\n\ndf\n#> # A tibble: 10 × 2\n#>    x               y\n#>    <date>      <dbl>\n#>  1 2020-01-01 -0.485\n#>  2 2020-02-01  0.921\n#>  3 2020-03-03  0.944\n#>  4 2020-04-04  0.729\n#>  5 2020-05-05  0.149\n#>  6 2020-06-06  1.42 \n#>  7 2020-07-07 -0.332\n#>  8 2020-08-08 -0.567\n#>  9 2020-09-08  1.38 \n#> 10 2020-10-10  0.201\n\np <- df %>% \n  ggplot(aes(x = x, y = y)) +\n  geom_point() +\n  scale_x_date(date_breaks = \"6 weeks\", date_labels = \"%B-%d\")\n\np\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png)\n:::\n:::\n\n\nMy Linux system is configured in English, the dates are also displayed in English in the above graphic. If we want to use another language, we first have to edit the `/etc/locale.gen` file and un-comment the line(s) for the language(s) we want to use. For this particular example, I wanted to display the dates in French.\n\n``` {.bash}\nsudo nano /etc/locale.gen\n```\n\n![My locale.gen configuration file.](img/locale_gen.png)\n\nIn this file, I un-commented the `fr_CA.UTF-8 UTF-8` line. Once done, save the file. Then, we have to regenerate the localization files using the `locale-gen` function.\n\n``` {.bash}\nsudo locale-gen fr_CA.UTF-8\n```\n\nFinally, within R, we can set the locale language with `Sys.setlocale()`. If we call the plot again, the dates are now displayed in French as expected.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nSys.setlocale(\"LC_TIME\", \"fr_CA.UTF-8\")\n#> [1] \"fr_CA.UTF-8\"\np\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png)\n:::\n:::\n\n\n<details>\n\n<summary>\n\nSession info\n\n</summary>\n\n\n::: {.cell}\n\n```\n#> ─ Session info ───────────────────────────────────────────────────────────────────────────────────────────────────────\n#>  setting  value\n#>  version  R version 4.2.1 (2022-06-23)\n#>  os       Linux Mint 21\n#>  system   x86_64, linux-gnu\n#>  ui       X11\n#>  language en_CA:en\n#>  collate  en_CA.UTF-8\n#>  ctype    en_CA.UTF-8\n#>  tz       America/Montreal\n#>  date     2022-08-10\n#>  pandoc   2.18 @ /usr/lib/rstudio/bin/quarto/bin/tools/ (via rmarkdown)\n#> \n#> ─ Packages ───────────────────────────────────────────────────────────────────────────────────────────────────────────\n#>  ! package       * version date (UTC) lib source\n#>  P assertthat      0.2.1   2019-03-21 [?] RSPM\n#>  P backports       1.4.1   2021-12-13 [?] RSPM\n#>  P broom           1.0.0   2022-07-01 [?] RSPM (R 4.2.1)\n#>  P cachem          1.0.6   2021-08-19 [?] RSPM (R 4.2.0)\n#>  P callr           3.7.1   2022-07-13 [?] RSPM (R 4.2.1)\n#>  P cellranger      1.1.0   2016-07-27 [?] RSPM\n#>  P cli             3.3.0   2022-04-25 [?] RSPM (R 4.2.0)\n#>  P colorspace      2.0-3   2022-02-21 [?] RSPM (R 4.2.0)\n#>  P crayon          1.5.1   2022-03-26 [?] RSPM (R 4.2.0)\n#>  P DBI             1.1.3   2022-06-18 [?] RSPM (R 4.2.0)\n#>  P dbplyr          2.2.1   2022-06-27 [?] RSPM (R 4.2.0)\n#>  P devtools        2.4.4   2022-07-20 [?] RSPM (R 4.2.0)\n#>  P digest          0.6.29  2021-12-01 [?] RSPM\n#>  P dplyr         * 1.0.9   2022-04-28 [?] RSPM (R 4.2.0)\n#>  P ellipsis        0.3.2   2021-04-29 [?] RSPM\n#>  P evaluate        0.15    2022-02-18 [?] RSPM (R 4.2.0)\n#>  P extrafont       0.18    2022-04-12 [?] RSPM (R 4.2.0)\n#>  P extrafontdb     1.0     2012-06-11 [?] RSPM (R 4.2.0)\n#>  P fansi           1.0.3   2022-03-24 [?] RSPM (R 4.2.0)\n#>  P farver          2.1.1   2022-07-06 [?] RSPM (R 4.2.1)\n#>  P fastmap         1.1.0   2021-01-25 [?] RSPM\n#>  P forcats       * 0.5.1   2021-01-27 [?] RSPM\n#>  P fs              1.5.2   2021-12-08 [?] RSPM\n#>  P gargle          1.2.0   2021-07-02 [?] RSPM\n#>  P generics        0.1.3   2022-07-05 [?] RSPM (R 4.2.1)\n#>  P ggplot2       * 3.3.6   2022-05-03 [?] RSPM (R 4.2.0)\n#>  P ggpmthemes    * 0.0.2   2022-08-08 [?] Github (pmassicotte/ggpmthemes@993d61e)\n#>  P glue            1.6.2   2022-02-24 [?] RSPM (R 4.2.0)\n#>  P googledrive     2.0.0   2021-07-08 [?] RSPM\n#>  P googlesheets4   1.0.0   2021-07-21 [?] RSPM\n#>  P gtable          0.3.0   2019-03-25 [?] RSPM\n#>  P haven           2.5.0   2022-04-15 [?] RSPM (R 4.2.0)\n#>  P hms             1.1.1   2021-09-26 [?] RSPM\n#>  P htmltools       0.5.3   2022-07-18 [?] RSPM (R 4.2.1)\n#>  P htmlwidgets     1.5.4   2021-09-08 [?] RSPM (R 4.2.0)\n#>  P httpuv          1.6.5   2022-01-05 [?] RSPM (R 4.2.0)\n#>  P httr            1.4.3   2022-05-04 [?] RSPM (R 4.2.0)\n#>  P jsonlite        1.8.0   2022-02-22 [?] RSPM (R 4.2.0)\n#>  P knitr           1.39    2022-04-26 [?] RSPM (R 4.2.0)\n#>  P labeling        0.4.2   2020-10-20 [?] RSPM\n#>  P later           1.3.0   2021-08-18 [?] RSPM (R 4.2.0)\n#>  P lifecycle       1.0.1   2021-09-24 [?] RSPM\n#>  P lubridate       1.8.0   2021-10-07 [?] RSPM\n#>  P magrittr        2.0.3   2022-03-30 [?] RSPM (R 4.2.0)\n#>  P memoise         2.0.1   2021-11-26 [?] CRAN (R 4.2.0)\n#>  P mime            0.12    2021-09-28 [?] RSPM\n#>  P miniUI          0.1.1.1 2018-05-18 [?] RSPM (R 4.2.0)\n#>  P modelr          0.1.8   2020-05-19 [?] RSPM\n#>  P munsell         0.5.0   2018-06-12 [?] RSPM\n#>  P pillar          1.8.0   2022-07-18 [?] RSPM (R 4.2.1)\n#>  P pkgbuild        1.3.1   2021-12-20 [?] CRAN (R 4.2.0)\n#>  P pkgconfig       2.0.3   2019-09-22 [?] RSPM\n#>  P pkgload         1.3.0   2022-06-27 [?] RSPM (R 4.2.0)\n#>  P prettyunits     1.1.1   2020-01-24 [?] RSPM\n#>  P processx        3.7.0   2022-07-07 [?] RSPM (R 4.2.1)\n#>  P profvis         0.3.7   2020-11-02 [?] RSPM (R 4.2.0)\n#>  P promises        1.2.0.1 2021-02-11 [?] RSPM (R 4.2.0)\n#>  P ps              1.7.1   2022-06-18 [?] RSPM (R 4.2.0)\n#>  P purrr         * 0.3.4   2020-04-17 [?] RSPM\n#>  P R6              2.5.1   2021-08-19 [?] RSPM\n#>  P Rcpp            1.0.9   2022-07-08 [?] RSPM (R 4.2.1)\n#>  P readr         * 2.1.2   2022-01-30 [?] RSPM (R 4.2.0)\n#>  P readxl          1.4.0   2022-03-28 [?] RSPM (R 4.2.0)\n#>  P remotes         2.4.2   2021-11-30 [?] CRAN (R 4.2.0)\n#>    renv            0.15.5  2022-05-26 [1] RSPM (R 4.2.0)\n#>  P reprex          2.0.1   2021-08-05 [?] RSPM\n#>  P rlang           1.0.4   2022-07-12 [?] RSPM (R 4.2.1)\n#>  P rmarkdown       2.14    2022-04-25 [?] RSPM (R 4.2.0)\n#>  P rstudioapi      0.13    2020-11-12 [?] RSPM\n#>  P Rttf2pt1        1.3.10  2022-02-07 [?] RSPM (R 4.2.0)\n#>  P rvest           1.0.2   2021-10-16 [?] RSPM\n#>  P scales          1.2.0   2022-04-13 [?] RSPM (R 4.2.0)\n#>  P sessioninfo     1.2.2   2021-12-06 [?] CRAN (R 4.2.0)\n#>  P shiny           1.7.2   2022-07-19 [?] RSPM (R 4.2.1)\n#>  P stringi         1.7.8   2022-07-11 [?] RSPM (R 4.2.1)\n#>  P stringr       * 1.4.0   2019-02-10 [?] RSPM\n#>  P tibble        * 3.1.8   2022-07-22 [?] RSPM (R 4.2.1)\n#>  P tidyr         * 1.2.0   2022-02-01 [?] RSPM (R 4.2.0)\n#>  P tidyselect      1.1.2   2022-02-21 [?] RSPM (R 4.2.0)\n#>  P tidyverse     * 1.3.2   2022-07-18 [?] RSPM (R 4.2.0)\n#>  P tzdb            0.3.0   2022-03-28 [?] RSPM (R 4.2.0)\n#>  P urlchecker      1.0.1   2021-11-30 [?] RSPM (R 4.2.0)\n#>  P usethis         2.1.6   2022-05-25 [?] RSPM (R 4.2.0)\n#>  P utf8            1.2.2   2021-07-24 [?] RSPM\n#>  P vctrs           0.4.1   2022-04-13 [?] RSPM (R 4.2.0)\n#>  P withr           2.5.0   2022-03-03 [?] RSPM (R 4.2.0)\n#>  P xfun            0.31    2022-05-10 [?] RSPM (R 4.2.0)\n#>  P xml2            1.3.3   2021-11-30 [?] RSPM\n#>  P xtable          1.8-4   2019-04-21 [?] RSPM (R 4.2.0)\n#>  P yaml            2.3.5   2022-02-21 [?] RSPM (R 4.2.0)\n#> \n#>  [1] /media/LaCie16TB/work/r-blog/renv/library/R-4.2/x86_64-pc-linux-gnu\n#>  [2] /usr/local/lib/R/library\n#> \n#>  P ── Loaded and on-disk path mismatch.\n#> \n#> ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\n```\n:::\n\n\n</details>\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}